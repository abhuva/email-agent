# Account-Specific Configuration Template
#
# This file demonstrates how to create account-specific configuration overrides.
# Copy this file to config/accounts/<account-name>.yaml and customize for your account.
#
# Naming Convention:
#   - Use <account-id>.yaml or <tenant-name>.yaml
#   - Examples: work.yaml, personal.yaml, client-xyz.yaml
#   - Must be valid YAML filenames (no special characters, spaces, or path traversal)
#
# Merge Strategy:
#   This configuration will be deep-merged over the global config.yaml:
#   - Dictionaries: Deep merged (keys in this file overwrite keys in global config)
#   - Lists: Completely replaced (lists in this file replace lists in global config)
#   - Primitives: Overwritten (values in this file replace values in global config)
#
# Precedence: Account config > Global config
#
# For complete schema documentation, see: docs/v4-config-schema-reference.md
# For configuration guide, see: docs/v4-configuration.md

# ============================================================================
# Account Identification (Optional)
# ============================================================================
# You can add an account_id field for reference, but it's not used by the system
# account_id: example-account

# ============================================================================
# IMAP Configuration Overrides
# ============================================================================
# Commonly overridden: server, port, username, password_env
# Rarely overridden: query, processed_tag, application_flags
imap:
  # Override IMAP server for this account
  # Example: Different email provider per account
  server: 'imap.example.com'
  
  # Override IMAP port (if different from global)
  # Example: Use SSL (993) for work account, STARTTLS (143) for personal
  port: 993
  
  # Override username for this account
  # Example: Different email address per account
  username: 'user@example.com'
  
  # Override password environment variable name
  # Example: Use different env var for each account's password
  #   Global: IMAP_PASSWORD
  #   Work: IMAP_PASSWORD_WORK
  #   Personal: IMAP_PASSWORD_PERSONAL
  password_env: 'IMAP_PASSWORD_EXAMPLE'
  
  # Override IMAP query (if needed)
  # Example: Only process unread emails for this account
  # query: 'UNSEEN'
  
  # Override processed tag (if needed)
  # Example: Use different flag name per account
  # processed_tag: 'WorkProcessed'

# ============================================================================
# Paths Configuration Overrides
# ============================================================================
# Commonly overridden: obsidian_vault (different vault per account)
# Rarely overridden: template_file, log_file, analytics_file, etc.
paths:
  # Override Obsidian vault path for this account
  # Example: Different vault per account (work vs personal)
  obsidian_vault: '/path/to/account-specific/vault'
  
  # Override log file (if you want separate logs per account)
  # Example: Separate log file for each account
  # log_file: 'logs/example-account.log'
  
  # Override analytics file (if you want separate analytics per account)
  # Example: Separate analytics file for each account
  # analytics_file: 'logs/example-account-analytics.jsonl'

# ============================================================================
# OpenRouter Configuration Overrides
# ============================================================================
# Rarely overridden: Usually shared across accounts
# Can be overridden for different API keys per account (advanced use case)
# openrouter:
#   # Override API key environment variable (if using different keys per account)
#   api_key_env: 'OPENROUTER_API_KEY_WORK'

# ============================================================================
# Classification Configuration Overrides
# ============================================================================
# Commonly overridden: model, temperature (different models/behavior per account)
# Rarely overridden: retry_attempts, retry_delay_seconds
classification:
  # Override model for this account
  # Example: Use faster/cheaper model for personal, more accurate model for work
  model: 'google/gemini-2.5-flash-lite-preview-09-2025'
  
  # Override temperature for this account
  # Example: More deterministic for work (0.1), more creative for personal (0.3)
  temperature: 0.2
  
  # Override cost estimation (if account has different pricing)
  # Example: Different pricing tier per account
  # cost_per_1k_tokens: 0.0002

# ============================================================================
# Summarization Configuration Overrides
# ============================================================================
# Rarely overridden: Usually shared across accounts
# Can be overridden for account-specific summarization models
# summarization:
#   model: 'google/gemini-2.5-flash-lite-preview-09-2025'
#   temperature: 0.3

# ============================================================================
# Processing Configuration Overrides
# ============================================================================
# Commonly overridden: importance_threshold, spam_threshold, max_emails_per_run
# Rarely overridden: max_body_chars, summarization_tags
processing:
  # Override importance threshold for this account
  # Example: Lower threshold for work (more emails marked important), higher for personal
  importance_threshold: 7
  
  # Override spam threshold for this account
  # Example: More aggressive spam filtering for personal account
  spam_threshold: 4
  
  # Override max emails per run for this account
  # Example: Process more emails per run for work account
  max_emails_per_run: 20
  
  # Override max body chars (if needed)
  # Example: Allow longer emails for work account
  # max_body_chars: 6000

# ============================================================================
# Safety Interlock Configuration Overrides
# ============================================================================
# Rarely overridden: Usually set globally
# Can be overridden for account-specific cost thresholds or currency
# safety_interlock:
#   cost_threshold: 0.20  # Higher threshold for this account
#   currency: 'â‚¬'  # Different currency for this account

# ============================================================================
# Example: Minimal Account Configuration
# ============================================================================
# For most accounts, you only need to override a few settings:
#
# imap:
#   server: 'imap.work.com'
#   username: 'work@company.com'
#   password_env: 'IMAP_PASSWORD_WORK'
# paths:
#   obsidian_vault: '/path/to/work/vault'
# processing:
#   importance_threshold: 7
#
# All other settings will use global defaults.

# ============================================================================
# Account-Specific Settings (Advanced)
# ============================================================================
# If the system allows account-specific settings that don't exist in global config,
# you can add them here. The system will preserve them during merge.
#
# Example (if supported):
# account_features:
#   enable_summarization: true
#   custom_tags:
#     - '#work'
#     - '#client-xyz'
#
# Note: Unknown/extra keys are preserved but may not be used by the system.
# Check the schema documentation to see which fields are supported.

# ============================================================================
# Usage Instructions
# ============================================================================
# 1. Copy this file to config/accounts/<account-name>.yaml:
#    cp config/accounts/example-account.yaml config/accounts/work.yaml
#
# 2. Edit the file with your account-specific settings:
#    - Update imap.server, imap.username, imap.password_env
#    - Update paths.obsidian_vault
#    - Adjust processing thresholds as needed
#
# 3. Set the password environment variable:
#    export IMAP_PASSWORD_WORK='your-password'
#
# 4. Process this account:
#    python main.py process --account work
#
# For more information, see:
# - docs/v4-configuration.md - Complete configuration guide
# - docs/v4-config-schema-reference.md - Schema reference
# - config/config.yaml.example - Global configuration template
